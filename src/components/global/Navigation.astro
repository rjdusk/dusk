---
// Based on this pen: https://codepen.io/TahseenAlaa/pen/gORezZR
const pathname = new URL(Astro.request.url).pathname;
const currentPath = pathname.split("/")[1]; // remove the first "/"
console.log(currentPath);
---

<header class="sticky top-0 z-50 w-full md:pt-1 md:px-4 mb-4 md:mb-8 lg:mb-16">
    <div
        class="max-w-6xl mx-auto flex flex-wrap items-center justify-between gap-4 bg-yellow-50/80 backdrop-blur-md rounded p-4">
        <nav class="w-full" x-data="{ isOpen: false }">
            <div>
                <div
                    class="relative w-full flex items-center justify-between text-gray-800">
                    <div
                        class="absolute inset-y-0 right-0 flex items-center sm:hidden">
                        <button
                            @click="isOpen = !isOpen"
                            type="button"
                            class="inline-flex items-center justify-center p-2 rounded-sm text-gray-800 hover:text-white hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-yellow-200"
                            aria-controls="mobile-menu"
                            aria-expanded="false">
                            <span class="sr-only">Open main menu</span>
                            <svg
                                x-show="!isOpen"
                                x-bind:class=" !isOpen ? 'block' : 'hidden'"
                                class="h-6 w-6"
                                xmlns="http://www.w3.org/2000/svg"
                                fill="none"
                                viewBox="0 0 24 24"
                                stroke="currentColor"
                                aria-hidden="true">
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M4 6h16M4 12h16M4 18h16"></path>
                            </svg>
                            <svg
                                x-show="isOpen"
                                x-bind:class=" isOpen ? 'block' : 'hidden'"
                                class="h-6 w-6"
                                xmlns="http://www.w3.org/2000/svg"
                                fill="none"
                                viewBox="0 0 24 24"
                                stroke="currentColor"
                                aria-hidden="true">
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                    <div
                        class="flex-1 flex items-center justify-between sm:items-center sm:justify-between gap-8">
                        <div class="flex-shrink-0 flex items-center w-6 h-6">
                            <a href="/"
                                ><svg
                                    viewBox="0 0 46 48"
                                    width="46"
                                    height="48"
                                    fill="currentColor"
                                    class="object-contain w-full h-full">
                                    <path
                                        fill-rule="evenodd"
                                        d="M22.2396694,0 C36.7809917,0 46,7.1915061 46,21.8352941 C46,37.1089265 35.0892562,48 18.8181818,48 C6.44380165,48 0,40.6008651 0,33.3176471 C0,27.5202517 3.45950413,22.8391663 8.55371901,21.0823529 L8.55371901,6.96470588 C8.62975207,2.18953991 7.56528926,1.86865906 2.47107438,1.50588235 L2.47107438,0 L22.2396694,0 Z M22.2380952,3 L16.5238095,3 C15.3624801,3 14.6565978,3.67349666 14.6190476,4.86666667 L14.6190476,20.36 C21.0667727,21.0534521 25.7980922,25.1505568 25.8571429,30.6266667 C25.7980922,33.5318486 24.4054054,36.0013363 21.2857143,36.04 C19.2734499,36.0013363 17.518283,34.6356347 17.4761905,32.68 C17.518283,31.1746102 18.2050874,30.4262806 18.8095238,29.6933333 C19.4260731,29.1167038 19.9984102,28.5554566 19.952381,27.64 C19.9984102,25.636971 17.7281399,23.1674833 12.9047619,23.16 C7.86486486,23.1674833 3,26.5162584 3,33.24 C3,40.7158129 10.154213,45 18.6190476,45 C30.8346582,45 39,37.7412027 39,22.04 C39,6.53585746 31.5977742,3 22.2380952,3 Z"
                                    ></path>
                                    <title>Return home</title>
                                </svg></a
                            >
                        </div>
                        <div class="hidden sm:block">
                            <div
                                class="flex space-x-12 text-xs font-bold uppercase tracking-wide">
                                <a
                                    href="/"
                                    class={currentPath === ""
                                        ? "text-yellow-600"
                                        : ""}
                                    aria-current={`${currentPath === "" ? "page" : ""}`}
                                    >Home</a
                                >
                                <a
                                    href="/portfolio/"
                                    class={currentPath === "portfolio"
                                        ? "text-yellow-600"
                                        : ""}
                                    aria-current={`${currentPath === "portfolio" ? "page" : ""}`}
                                    >Portfolio</a
                                >
                                <a
                                    href="/journal/"
                                    class={currentPath === "journal"
                                        ? "text-yellow-600"
                                        : ""}
                                    aria-current={`${currentPath === "journal" ? "page" : ""}`}
                                    >Journal</a
                                >
                                <a
                                    href="/about/"
                                    class={currentPath === "about"
                                        ? "text-yellow-600"
                                        : ""}
                                    aria-current={`${currentPath === "about" ? "page" : ""}`}
                                    >About &amp; Contact</a
                                >
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div x-show="isOpen" class="sm:hidden" id="mobile-menu">
                <div class="pt-6 space-y-1 text-right">
                    <a
                        href="/"
                        class="block px-3 py-2 text-base text-gray-800 font-bold uppercase"
                        aria-current="page">Home</a
                    >
                    <a
                        href="/portfolio/"
                        class="block px-3 py-2 text-base text-gray-800 font-bold uppercase"
                        >Portfolio</a
                    >
                    <a
                        href="/journal/"
                        class="block px-3 py-2 text-base text-gray-800 font-bold uppercase"
                        >Journal</a
                    >
                    <a
                        href="/about/"
                        class="block px-3 py-2 text-base text-gray-800 font-bold uppercase"
                        >About &amp; Contact</a
                    >
                </div>
            </div>
        </nav>
    </div>
</header>
